/*
 * ImageSpecial.c
  *  赛道上各种特殊元素的判断
 *  Created on: 2022年1月17日
 *      Author: yue
 */

#include "ImageSpecial.h"

/*
 *******************************************************************************************
 ** 函数功能: 检测是否有起跑线
 ** 参    数:
 ** 返 回 值: 无
 ** 作    者: WBN
 ** 注    意：1 . 默认在进行起跑线识别的路段都是直线，即车头已经摆正
 **           2.由于没有实物图做参考，只能先假设一个理想状态：整条起跑线恰好布满整个图像
 ********************************************************************************************
 */
void StartLineFlag(Point InflectionL,Point InflectionR)
{
    //在这里加入一个判断：检测到左方或右方有拐点时，再进行是否有起跑线的判断
    //并且扫线的位置根据拐点决定。从左下拐点开始：下-上，左-右扫线；从右下拐点开始：下-上，右-左扫线

    int row,cloum;      //行,列
    int Black_flag=0;   //固定行，横向扫线是记录每段黑点的个数（即一条黑线的宽度）

    if()    //拐点（车库）在左边
    {
        for(row=InflectionL.X,cloum=InflectionL.Y;row<MT9V03X_H;row++)        //从左拐点开始，从下往上扫
        {
            if(BinaryImage[row][cloum]==IMAGE_BLACK)    //找到了一个黑点
            {
                for(;cloum<MT9V03X_W;cloum++)    //从左往右扫
                {
                    if(BinaryImage[row][cloum]==IMAGE_BLACK)
                    {
                        Black_flag++;   //扫到黑点，黑线宽度+1
                    }
                    else
                    {

                    }
                }
            }
        }
    }

}
